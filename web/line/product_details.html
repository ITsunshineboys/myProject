<link rel="stylesheet" href="css/product_details.css"/>
<div ng-controller="product_details_ctrl" class="main_body">
    <a class="header" ng-click="goPrev({'id':id,'mall_id':mall_id,'supplier_id':supplier_id,'datailsShop':datailsShop})">
            <img src="images/mall_nav_return.png" alt="">
    </a>
    <div class="main" >
         <div class="carousel">
             <div id="swiperList" class="swiper-container" >
                  <div  class="swiper-wrapper" >
                      <div class="swiper-slide" ng-repeat="n in datailsShop.images" id="size_img" >
                          <img src="http://test.cdlhzz.cn:888/{{n}}" alt="" />
                      </div>
                  </div>
                    <!-- 如果需要分页器 -->
                    <div class="swiper-pagination"></div>
             </div>
        </div>
        <div class="intro_box">
            <div class="product_name">
                {{datailsShop.title}}
            </div>
            <div class="introduce">{{datailsShop.subtitle}}</div>
            <p class="cost">￥{{datailsShop.platform_price}}</p>
        </div>
        <!--下拉选择数量-->
        <div class="bag_div"></div>

        <div class="standard" data-toggle="modal"  data-target="{{myModal}}">
            <div>选择数量</div>
            <div >
                <img src="images/left_com.png" class="img_size" alt=""/>
            </div>
        </div>
        <!--服务项-->
        <div class="service_item"  data-toggle="modal" data-target="{{myModal_sec}}">
            <ul >
                <li ng-repeat="n in datailsShop.after_sale_services.slice(0,3)"><img src="images/right.png" alt=""/> &nbsp<span class="more_span">{{n}}</span></li>
                <!--<li ng-show = changeGoods ><img src="images/right.png" alt=""/> &nbsp;<span>上门换货</span></li>-->
                <!--<li ng-show = returnGoods ><img src="images/right.png" alt=""/> &nbsp;<span>上门退货</span></li>-->
                <li id="moreLeft">
                    &nbsp;
                    <img src="images/left_com.png"  class="img_size" alt=""/>
                </li>
            </ul>
        </div>
        <div class="bag_div"></div>
        <!--商铺头部-->
        <div class="shop_header" >
            <div class="shop_header_child" >
                <img src="http://test.cdlhzz.cn:888/{{datailsShop.supplier.icon}}" alt=""/>
                <span>{{datailsShop.supplier.shop_name}}</span>
            </div>
            <div class="shop_number">
                <ul>
                    <li>
                        <span class="num_shop">{{datailsShop.supplier.goods_number}}</span> <br/>
                        <span class="number">商品数量</span>
                        <div class="line"></div>
                    </li>
                    <!--<li>-->
                        <!--<span class="num_shop">666</span> <br/>-->
                        <!--<span class="number">关注人数</span>-->
                        <!--<div class="line"></div>-->
                    <!--</li>-->
                    <li>
                        <span class="num_shop">{{datailsShop.supplier.comprehensive_score}}</span> <br/>
                        <span class="number">综合详情</span>
                        <div class="line" style="visibility: hidden"></div>
                    </li>
                </ul>
            </div>
            <a ui-sref="shop_front({id:id,mall_id:mall_id,supplier_id:supplier_id,datailsShop:datailsShop})">
                <button class="into_store">进店逛逛</button>
            </a>
        </div>
        <div class="bag_div"></div>
        <!--图文详情和参数-->
        <div class="pic_comment">
            <div>
                <ul class="nav nav-tabs list_tab" ng-init="vm.activeTab=1">
                    <li ng-class="{active:vm.activeTab == 2}">
                        <a href="javascript:;" ng-click="vm.activeTab = 1" >图文详情</a>
                        <span ng-class="{line_com:vm.activeTab==1}" ></span>
                    </li>
                    <li ng-class="{active: vm.activeTab == 1}">
                        <a href="javascript:;" ng-click="vm.activeTab = 2">产品参数</a>
                        <span ng-class="{line_com:vm.activeTab==2}" ></span>
                    </li>
                </ul>
                <div class="tab-content tab-bordered">
                    <div class="tab-panel" ng-show="vm.activeTab == 1">
                        <span class="description_span">{{datailsShop.description}}</span>
                    </div>
                    <div class="tab-panel" ng-show="vm.activeTab == 2">
                        <div class="shop_two">
                            <ul  >
                                <li><span>产品编码</span><span class="comment_num">{{datailsShop.sku}}</span></li>
                                <li><span>产品品牌</span><span class="comment_num">{{datailsShop.brand_name}}</span></li>
                                <li ng-show = style_parameter><span>产品系列</span><span class="comment_num">{{datailsShop.series_name}}</span></li>
                                <li ng-show = series_parameter><span>产品风格</span><span class="comment_num">{{datailsShop.style_name}}</span></li>
                                <li ng-repeat="n in datailsShop.attrs"><span>{{n.name}}</span><span class="comment_num">{{n.value}}</span></li>
                            </ul>
                        </div>
                    </div>
                </div>

        </div>
    </div>
        <div class="Prompt" ng-show="showPrompt">
           <span>该商品已下架，请购买其他商品</span>
        </div>
    <!--模态框-->
    <!-- Modal  上架商品 -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document" id="quantityNum">
            <div class="modal-content">
                <div class="modal-header">
                    <p type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">X</span></p>
                </div>
                <div class="modal-body">

                    <div class="add_cart">
                        <img src="http://test.cdlhzz.cn:888/{{datailsShop.cover_image}}" alt=""/>
                    </div>
                    <div class="pic_add">
                        <span class="pic_span">￥{{datailsShop.platform_price}}</span>
                        <span class="pic_span_two">库存{{datailsShop.left_number}}件</span>
                    </div>


                    <div class="sl">
                        <span>购买数量</span>
                        <div class="input_div">
                            <img ng-click="reduceNumber()" src="images/mall_subtract_reduce.png" class="reduce" alt=""/>
                            <input class="pic_more" placeholder="1" ng-change="getQuantity()" ng-model="shopNum">
                            <img src="images/mall_add_subtract.png" alt=""/>
                            <img ng-click="addNumber()" src="images/mall_add_box.png" class="add" alt=""/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer_div">
                    <!--<button type="button" class=" resct_btn_one join_cart " data-dismiss="modal" data-toggle="modal" data-target="#myModalP">加入购物车</button>-->
                    <button type="button" ng-class="{'bg_btn':$scope.status == 1}" class="resct_btn_two" ng-click="getOrder()" data-dismiss="modal">立即购买</button>
                    <!--<button type="button" class=" resct_btn_two" data-dismiss="modal" ng-if="prev_index == 1 || prev_index == 2" ng-click="replace_goods()">更换</button>-->
                </div>
            </div>
        </div>
    </div>


    <!--售后服务条款模态框-->
    <!-- Modal -->
    <div class="modal fade" id="myModal_sec" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document" id="invoice_model">
            <div class="modal-content">
                <div class=" t-header">
                    <h1 class="modal-title" ng-show = "show_service" id="myModalLabel">售后</h1>
                </div>
                <div class="modal-body-comment">
                    <div class="service_comment">
                        <ul>
                            <li ng-show = on_site>
                                <img src="images/right.png" alt=""/>
                                <span>上门维修</span>
                            </li>
                            <li ng-show = changeGoods>
                                <img src="images/right.png" alt=""/>
                                <span>上门换货</span>
                            </li>
                            <li ng-show = returnGoods >
                                <img src="images/right.png" alt=""/>
                                <span>上门退货</span>
                            </li>
                            <li ng-show = changeMore>
                                <img src="images/right.png" alt=""/>
                                <span>换货</span>
                            </li>
                            <li ng-show="returnMore">
                                <img src="images/right.png" alt=""/>
                                <span>退货</span>
                            </li>
                        </ul>
                    </div>
                    <div class="t-header-two">
                        <h1>保障</h1>
                    </div>
                    <div class="service_comment">
                        <ul class="comment_ul_invoice">
                            <li ng-show="getInvoice">
                                <img src="images/right.png" alt=""/>
                                <span>提供发票</span>
                            </li>
                            <li ng-show="doorPay">
                                <img src="images/right.png" alt=""/>
                                <span>上门安装</span>
                            </li>
                        </ul>
                    </div>

                </div>
                <div class="modal-footer-btn">
                    <button type="button" class="btn btn-primary"  data-dismiss="modal">完成</button>
                </div>
            </div>
        </div>
    </div>
    <div class="foot_tab">
        <button class="matching" data-toggle="modal" data-target="#myModal">匹配小区</button>
        <button class="add" ng-class="{'bg_btn':status == 0}" ng-disabled="status == 0" data-toggle="modal" data-target="#myModal">立即购买</button>
    </div>

  </div>
</div>