<link rel="stylesheet" href="css/details.css"/>

<div ng-controller="details_ctrl">
    <header>
        <div>
            <a class="public_return_black" ng-click="getRetrnUp ()" >
                <!--ng-click="goPrev({'pid':pid,'id':id,'commentThree':commentThree})"-->
                <img src="images/mall_nav_return.png" class="left_retrun"  alt=""/>
            </a>

            <img src="images/mall_search_1.png" class="search_details" alt=""/>
            <a ui-sref="commodity_search({'search_flag_details':search_flag_details,'id':id})">
                <input type="text" placeholder="请输入想购买的商品" />
            </a>
            <a class="public_return_black" ng-click="getHome()">
                <img src="images/mall_home.png"  class="mall_home" alt=""/>
            </a>

        </div>
    </header>
    <section>
        <!--便签栏-->
        <div class="memo_pad">
            <li ng-click="filterSales ()">销量优先</li>
            <li ng-click="filterPraise ()">
                价格
                <img class="up_down" ng-src= '{{good_pic}}' src="images/mall_arrow_up.png" alt=""/>
            </li>
            <li ng-click ="filterPicUp ()">
                好评率
                <img class="up_down" ng-src= '{{good_pra_up}}' src="images/mall_arrow_up.png" alt=""/>
            </li>
            <li>
                <a class="font_color" href="javascript:void(0);" data-toggle="modal" data-target="#myModal">
                    筛选
                    <img class="filter_nor" src="images/mall_filter_normal.png" alt=""/>
                </a>
            </li>
        </div>
        <!--商品展示列表-->
        <div class="mall_list" ng-show="detailsList.length != 0">
            <div class="flex_div" >
                <div class="item_commodity"  ng-repeat="item in detailsList " ng-click="getDetailsProduct(item)">
                    <div class="item_commodity_divimg">
                        <img src="{{baseUrl + '/'+item.cover_image}}" alt="" class="img_item " />
                    </div>
                    <div class="item_commodity_comment">
                        <p class="comment_one">{{item.title}}</p>
                        <p class="comment_two">{{item.subtitle}}</p>
                        <span class="comment_span">销量数：{{item.sold_number}}&nbsp;&nbsp;</span>
                        <span class="comment_span_two">{{item.favourable_comment_rate}}%好评</span>
                        <p style="margin-top: .4rem;color: #F59C22" class="comment_span_three">{{item.platform_price | currency : '￥'}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="nullGoods" ng-show="detailsList.length == 0">
            <span>暂无符合条件的商品</span>
        </div>
        <!--筛选框-->
        <div class="popup_screen ">
            <div class="style_popup">
                <!-- Modal 弹框-->
                <div class="modal fade screen_model" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document" >
                        <div class="modal-content" >
                            <!--风格 -->
                            <div class="modal-body">
                                <div class="style_screen" >
                                    <!--f风格选择？-->
                                    <div ng-show= show_style>
                                        <div class="header_font">
                                            <span class="style_size">风格选择</span>
                                            <span class="down_arrow"  data-toggle="collapse" href="#collapseExample_comment" aria-expanded="true" aria-controls="collapseExample_comment">
                                          <img src="images/mall_list.png" class="down_list" alt=""/>
                                        </span>
                                        </div>

                                        <!--x下拉面板-->
                                        <div class="collapse" id="collapseExample_comment">
                                            <div class="well">
                                                <ul class="item_li">
                                                    <li ng-repeat="item in styles" ng-class="{'changeColor':check_index_series == $index}" ng-click="changeState ($index,item)">
                                                        {{item.style}}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!--系列选择-->
                                    <div ng-show= show_series>
                                        <div class="header_font">
                                            <span class="style_size">系列选择</span>
                                            <span class="down_arrow"  data-toggle="collapse" href="#collapseExample" aria-expanded="true" aria-controls="collapseExample">
                                          <img src="images/mall_list.png" class="down_list" alt=""/>
                                        </span>
                                        </div>
                                        <!--x下拉面板-->
                                        <div class="collapse" id="collapseExample">
                                            <div class="well">
                                                <ul>
                                                    <li ng-repeat="item in series" ng-class="{'changeColor':check_index_style == $index}" ng-click="changeStyle ($index,item)">
                                                        {{item.series}}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>


                                    <!--价格区间-->
                                    <div class="header_font">
                                        <span class="style_size">价格区间</span>
                                    </div>
                                    <div class="price_range">
                                        <input type="text" placeholder="最低价" ng-model="price_min" ng-blur="getBlur ()" maxlength="8" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') " pattern="[1-9]\d*"/> &nbsp; &nbsp;
                                        <span> ———</span>
                                        <input type="text" placeholder="最高价" ng-model="price_max" ng-blur="getBlur ()"maxlength="8" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') " pattern="[1-9]\d*"/>
                                    </div>


                                    <!--品牌选择-->
                                    <div class="header_font">
                                        <span class="style_size">品牌选择</span>
                                    </div>
                                    <div class="well">
                                        <ul>
                                            <li ng-repeat="item in brand | limitTo:8 "  ng-class="{'changeColor':check_index_brand == $index}" ng-click="changeBrand ($index,item)">
                                                {{item.name}}
                                            </li>
                                        </ul>
                                    </div>
                                    <div data-toggle="modal" data-target="#myModal_brand" class="all_brand_btn">
                                        <span>
                                            查看全部品牌 
                                            <img src="images/left_com.png" alt=""/>
                                        </span>
                                    </div>

                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" ng-click="getNull ()" class="btn btn-default reset_btn" >重置</button>
                                <button type="button" ng-click="getMoreData ()" class="btn reset_btn last_btn"  data-dismiss="modal">完成</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!--  模态框   品牌-->
                <!-- Modal -->
                <div class="modal fade" id="myModal_brand" >
                    <div class="modal-dialog">
                        <div class="modal-content model_content">
                            <div class="modal-header">
                                <h4 class="modal-title text-center brand_content">品牌选择</h4>
                            </div>
                            <div class="modal-body">
                                <div class="div_search">
                                    <input class="brand_search" type="text" placeholder="请输入品牌...">
                                    <img class="img_search" src="images/mall_search.png" alt="">
                                </div>
                                <ul class="brands_more">
                                    <li ng-repeat="n in brand">
                                        {{n.name}}
                                    </li>
                                </ul>

                            </div>
                            <div class="modal-footer footer_size">
                                <button type="button" class="btn btn_brand"  data-dismiss="modal" >返回</button>
                                <button type="button" class="btn btn_brandRight" data-dismiss="modal">确定</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>