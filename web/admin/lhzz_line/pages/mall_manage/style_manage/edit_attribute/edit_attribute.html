<link rel="stylesheet" href="pages/mall_manage/style_manage/edit_attribute/css/edit_attribute.css">
<div ng-controller="edit_attribute_ctrl">
    <header>
        <div>
            <i class="glyphicon glyphicon-home"></i>
            <span class="shop_manage" ui-sref="merchant_index">商城管理</span>
            <span class="shop_manage" ui-sref="style_index({showattr:true})">>系列/风格/属性管理</span>
            <span class="commodity_manage">>属性管理详情</span>
            <img src="pages/mall_manage/style_manage/edit_attribute/images/user.png" alt=""/>
        </div>
    </header>
    <section>
        <div class="top_title">
            <span style="margin-right: 80px">分类名称</span>
            <span ng-bind="titles"></span>
        </div>
        <hr>
        <div class="add_box">
            <span class="add" ng-click=selectAdd()>下拉添加</span>
            <span class="add" ng-click="generalAdd()">普通添加</span>
        </div>
        <!--属性设置-->
        <div class="margin_top">
            <table>
                <tr ng-if="propattrs.length">
                    <td style="padding-right: 90px">属性设置</td>
                    <td style="text-align: center">属性名称</td>
                    <td>属性内容</td>
                    <td>单位</td>
                </tr>

                <form name="attr_form" novalidate action="">
                <tr ng-repeat="item in propattrs">
                    <td>&nbsp;</td>
                    <td class="padding_right">
                        <span >
                          <img src="pages/mall_manage/style_manage/edit_attribute/images/red.png" alt="">
                           <i class="glyphicon glyphicon-minus" ng-click=deleteTr($index)></i>
                        </span>
                        <input type="text" class="input_one" ng-model="item.name" maxlength=6 required ng-blur=checkname(item.name,$index) ng-class={warningred:$index==temp&&iswarning==true}>
                    </td>
                    <td class="padding_right">
                        <input type="text" class="normal_input" ng-model="item.value" disabled=disabled ng-if="item.addition_type==0">
                        <input type="text" class="normal_input" ng-model="item.value" ng-if="item.addition_type==1" ng-class={warningred:$index==tempcontent&&iswarningcontent==true} ng-blur=checkContent(item.value,$index)>
                    </td>
                    <td class="padding_right">
                        <select name="" class="select_css" ng-options="op.unit for op in unitarrs" ng-model="item.cur_unit"></select>
                        <span class="attr_font">*属性名称限1~6个字，属性内容以逗号隔开</span>
                        <!--ng-change=aiya(item.cur_unit.unit)-->
                    </td>
                </tr>
                </form>
            </table>
        </div>
        <!--保存 返回-->
        <div class="bottom">
            <span class="bg_blue" ng-click=saveProp()>保存</span>
            <span ui-sref='style_index({showattr:true})'>返回</span>
        </div>


        <!-- 弹窗-保存成功 -->
        <div class="modal customer_modal detail_modal fade" tabindex="-1" role="dialog" id="success_modal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">提示</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row form_box">
                            <span class="col-md-12 form_txt" ng-if="btnclick">保存成功</span>
                            <span class="col-md-12 form_txt" ng-if="!btnclick">商品属性名称不能重复</span>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" ng-click="btnclick?modalBack():''" data-dismiss="modal" >确认</button>
                        <!--<button type="button" class="btn btn-primary"  data-dismiss="modal" >确认</button>-->
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->




    </section>
</div>