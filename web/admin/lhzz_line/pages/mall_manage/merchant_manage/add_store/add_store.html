<link rel="stylesheet" href="pages/mall_manage/merchant_manage/add_store/css/add_store.css">
<div ng-controller="addstore">
    <!--顶部导航-->
    <div class="topnav">
        <span class="glyphicon glyphicon-certificate"></span>
        <h6>商城管理</h6>
        <h6>> 商家管理</h6>
        <h6>> 商家管理 </h6>
    </div>

    <form name="storeform"  novalidate>
    <div class="add_store_content">
        <!--商家所属分类-->
        <div class="belong_class">
            <span>商家所属分类</span>
            <div class="sel_group">
                <!--商家所属分类一级下拉框-->
                <select name=""  class="cailiaochoose" ng-model="firstselect" ng-options="item.id as item.title for item in firstclass" ng-change="subClass(firstselect)"></select>
                <!--商家所属分类二级下拉-->
                <select name="" class="cailiaochoose"  ng-options="item.id as item.title for item in secondclass" ng-model="secselect" ng-change="thirdClass(secselect)"></select>
                <!--商家所属分类三级下拉-->
                <select name="" class="cailiaochoose"  ng-options="item.id as item.title for item in thirdclass" ng-model="thirdselect"></select>
            </div>
        </div>

        <!--单位类型-->
        <div class="company_type">
            <span>单位类型</span>
            <select name="" ng-options="item.id as item.type for item in companytype_arr" ng-model="unittype"></select>
        </div>

        <!--店铺类型-->
        <div class="company_type">
            <span>店铺类型</span>
            <select name="" ng-options="item.storetype for item in storetype_arr" ng-model="typeselect"></select>
        </div>

        <!--店铺名称-->
        <div class="company_type">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span>店铺名称</span>
            <input type="text" placeholder="请输入店铺名称" ng-model="storename" name="storename" id="storename" required ng-blur="judge=!!storeform.storename.$error" ng-class={'tored':storeform.storename.$invalid&&alljudgefalse||storeform.storename.$error.required&&judge}>
            <span>{{typeselect.storetype}}</span>
            <!--<p ng-show="warning">-->
                <!--<span class="glyphicon glyphicon-asterisk red_mark"></span>-->
                <!--该店铺名称已存在，请重新填写-->
            <!--</p>-->
        </div>

        <!--是否支持无登录购买-->
        <div class="without_log_buy">
            <span>是否支持无登录购买</span>
                <label class="radiogroup" for="notsupport"></label>
                <input type="radio" id="notsupport" name="yorn" ng-model="support" value=0 ng-checked=true>不支持
                <label for="support"></label>
                <input type="radio" id="support" name="yorn" ng-model="support" value=1>支持
        </div>

        <hr>

        <!--公司名称-->
        <div class="company_type">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span>公司名称/名称</span>
            <input type="text" placeholder="请输入公司名称" id="companyname" ng-model="companyname" name="companyname" required maxlength=30 ng-blur="company=!!storeform.companyname.$error" ng-class={'tored':storeform.companyname.$invalid&&alljudgefalse||storeform.companyname.$error.required&&company}>
            <!--<p ng-show="warning">-->
                <!--<span class="glyphicon glyphicon-asterisk red_mark"></span>-->
                <!--该公司名称已存在，请重新填写-->
            <!--</p>-->
        </div>

        <!--社会信用代码/注册号-->
        <div class="company_type">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span>社会信用代码/注册号</span>
            <input type="text" placeholder="请输入信用代码/注册号" id="registercode" name="registercode" ng-model="registercode" required maxlength=15 ng-blur="register=!!storeform.registercode.$error" ng-class={'tored':storeform.registercode.$invalid&&alljudgefalse||storeform.registercode.$error.required&&register}>
            <!--<p>-->
                <!--<span class="glyphicon glyphicon-asterisk red_mark"></span>-->
                <!--该代码已存在，请重新填写-->
            <!--</p>-->
        </div>

        <!--上传营业执照-->
        <div class="cla_pic">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span class="each_title">上传营业执照</span>
            <div class="upload_pic">
                <img ng-src="{{licencepath}}"  alt="" id="cla_pic_uploadpic" class="picstyle">
                <h6>图片大小120x120，5M内，支持JPG、PNG、JPGE</h6>
                <div class="upload">
                    <button type="button" ngf-pattern="image/*" ng-change="licenseUpload(data.filefirst)"  ngf-select="" ngf-multiple="false" ng-model="data.filefirst" id="upload_btn">上传</button>
                </div>
                <div class="reload_tishi" ng-show="licence_warning||licenceflag">
                    <span class="glyphicon glyphicon-asterisk red_mark"></span>
                    <span ng-show="licence_warning">上传图片格式不正确或尺寸不匹配，请重新上传</span>
                    <span ng-show="licenceflag">请上传图片</span>
                </div>
            </div>
        </div>

        <!--登录账户-->
        <div class="company_type login_account">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span>登录账户</span>
            <input type="text" placeholder="请输入电话号码" name="accountnum" ng-model="login_account" ng-blur="accountCheck()" required ng-class={'tored':storeform.accountnum.$invalid&&alljudgefalse||showwarning}>
            <p ng-show="showwarning">
                <span class="glyphicon glyphicon-asterisk red_mark"></span>
                <span ng-bind="accountwarning" class="warningred"></span>
            </p>
        </div>
        <hr>

        <div ng-show="defaultshow">
        <!--法人名称-->
        <div class="company_type">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span>法人名称</span>
            <input type="text" placeholder="请输入法人名称" ng-show="!accountdefault" ng-model="legalperson" name="legalperson" id="legalperson" required ng-pattern="/^[A-Za-z\u4e00-\u9fa5]+$/" ng-blur="legalname=!!storeform.legalperson.$error"  ng-class={'tored':(storeform.legalperson.$invalid&&alljudgefalse)||(storeform.legalperson.$error.required&&legalname)||storeform.legalperson.$error.pattern}>
            <p ng-show="storeform.legalperson.$error.pattern">
                <span class="glyphicon glyphicon-asterisk red_mark"></span>
                <span class="warningred">名称不符合规范，请重新输入</span>
                <span class="warningred">名称不符合规范，请重新输入</span>
            </p>

            <span ng-bind="legal_person" ng-show="accountdefault" class="mar_left"></span>
        </div>

        <!--法人身份证号-->
        <div class="company_type">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span>法人身份证号</span>
            <input type="text" placeholder="请输入身份证号" id="idcard" ng-show="!accountdefault" ng-model="idcard" name="idcard" required ng-pattern="/(^[0-9]{15}$)|(^[0-9]{18}$)|(^[0-9]{17}([0-9]|X|x)$)/" ng-blur="id_card=!!storeform.idcard.$error" ng-class={'tored':(storeform.idcard.$invalid&&alljudgefalse)||(storeform.idcard.$error.required&&id_card)||storeform.idcard.$error.pattern}>
            <span ng-bind="identity_no" ng-show="accountdefault"></span>
            <p ng-show="storeform.idcard.$error.pattern">
                <span class="glyphicon glyphicon-asterisk red_mark"></span>
                <span class="warningred">请输入正确的身份证号</span>
            </p>
        </div>

        <!--上传法人身份证正面-->
        <div class="cla_pic">
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span class="each_title">上传法人身份证正面</span>
            <div class="upload_pic">
                <img ng-src="{{frontpath}}" alt="" id="idfront" ng-show="!accountdefault" class="picstyle">
                <img ng-src="{{_frontpath}}" alt="" ng-show="accountdefault" class="picstyle">

                <h6>图片大小120x120，5M内，支持JPG、PNG、JPGE</h6>
                <div class="upload" ng-show="!accountdefault">
                    <button type="button" ngf-pattern="image/*" ng-change="frontUpload(data.filefront)"  ngf-select="" ngf-multiple="false" ng-model="data.filefront" id="upload_btn">上传</button>
                </div>
                <div class="reload_tishi" ng-show="front_warning||frontpathflag">
                    <span class="glyphicon glyphicon-asterisk red_mark"></span>
                    <span ng-show="front_warning">上传图片格式不正确或尺寸不匹配，请重新上传</span>
                    <span ng-show="frontpathflag">请上传图片</span>
                </div>
            </div>
        </div>

        <!--上传法人身份证背面-->
        <div>
            <span class="glyphicon glyphicon-asterisk red_mark"></span>
            <span class="each_title">上传法人身份证背面</span>
            <div class="upload_pic">
                <img  ng-src="{{backpath}}" alt="" id="idback" ng-show="!accountdefault" class="picstyle">
                <img  ng-src="{{_backpath}}" alt="" ng-show="accountdefault" class="picstyle">
                <h6>图片大小120x120，5M内，支持JPG、PNG、JPGE</h6>
                <div class="upload" ng-show="!accountdefault">
                    <button type="button" ngf-pattern="image/*" ng-change="backUpload(data.fileback)"  ngf-select="" ngf-multiple="false" ng-model="data.fileback" id="upload_btn">上传</button>
                </div>
                <div class="reload_tishi" ng-show="back_warning||backpathflag">
                    <span class="glyphicon glyphicon-asterisk red_mark"></span>
                    <span ng-show="back_warning">上传图片格式不正确或尺寸不匹配，请重新上传</span>
                    <span ng-show="backpathflag">请上传图片</span>
                </div>
            </div>
        </div>
        </div>

        <div class="btns">
            <button data-toggle="modal" data-target={{suremodal}} type="submit" ng-click="sureAddStore(storeform.$valid,storeform.$error.required)">确认</button>
            <button ui-sref="store_mag">返回</button>
        </div>
    </div>
    </form>

    <!--添加成功提示模态框-->
    <div class="modal fade" id="suremodal" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" id="save_content">
                <div class="modal-header" id="save_header">
                    <h4 class="modal-title" id="tishi">
                        提示
                    </h4>
                </div>
                <div class="modal-body" id="save_body">
                    <h6 id="tishi_wenzi">添加成功</h6>
                </div>

                <div class="btn_modal_two">
                    <button id="caozuo_sure" data-dismiss="modal" ng-click="sureAddStore()">确认</button>
                </div>
            </div>
        </div>
    </div>
</div>

