<link rel="stylesheet" href="pages/index_recommend/css/index_recommend.css">

<div ng-controller="index_recommend_ctrl">
<!--头部导航开始-->
<div class="header_box">
    <div class="header_txt">
        <i class="glyphicon glyphicon-home"></i>
        <a href="javascript:void(0)" class="head_nav_font_weight">商品管理 </a>>
        <a href="javascript:void(0)" class="gray">APP推荐位-banner管理</a>
    </div>
</div>
<!--头部导航结束-->

<!--APP推荐-banner开始-->
<div class="rmd_content">
    <!--选择城市开始-->
    <div class="city">
        <form action="">
            <label>
                选择省份
                <select  class="citySelect" ng-model="cur_province" ng-options="item.name for item in province" ng-change="getCity(cur_province)"></select>
            </label>
            <label>
                选择城市
                <select  class="citySelect" ng-model="cur_city" ng-options="item.name for item in city" ng-change="getCounty(cur_city)"></select>
            </label>
        </form>
    </div>
    <!--选择城市结束-->

    <!--Banner、推荐选项卡开始-->
    <div class="myTab">
        <span class="tabChange" onclick="tabChangeFn(this)" ui-sref="banner_recommend">Banner
        </span>
        <span class="tabChange" onclick="tabChangeFn(this)" ui-sref="index_recommend">推荐</span>
    </div>
    <!--Banner、推荐选项卡结束-->

    <!--Table操作（增删改查）开始-->
    <div class="tabContent">
        <div class="topTab">
            <span class="topTabE topTabActive" data-toggle="modal" data-target="#my_modal_save"><i class="glyphicon glyphicon-home"></i> 保存</span>
            <span class="topTabE" data-toggle="modal" data-target="#recommend_shop_modal_add" ><i class="glyphicon glyphicon-home" ></i> 添加</span>
            <span class="topTabS" ng-modal="selectAll"  ng-click="all(selectAll)">全选</span>
            <span class="topTabS" data-toggle="modal" data-target="#my_modal_del" ng-click="delete_batch_del()">删除</span>
            <span class="topTabS" data-toggle="modal" data-target="#my_modal_stop" ng-click="disable_batch()">停用</span>
            <a class="topTabE" ui-sref="index_recommend_history"><i class="glyphicon glyphicon-home"></i> 历史数据</a>
            <span class="topTabS topTabList"><i class="glyphicon glyphicon-th-list"></i></span>
        </div>
    </div>
    <!--Table操作（增删改查）结束-->

    <!--Table内容  开始-->
    <div class="tabTable">
        <table>
            <tr class="th">
                <td>&nbsp;</td>
                <td>类型</td>
                <td>商品编号</td>
                <td>名称</td>
                <td>来源商家</td>
                <td>上架浏览</td>
                <td>上架销量</td>
                <td>是否启用</td>
                <td>创建时间</td>
                <td>图片</td>
                <td>操作</td>
            </tr>
            <!--数据展示-->
            <tr ng-repeat="item in shop_rep">
                <td><input type="checkbox" ng-checked="selectAll" ng-model="item.state"></td>
                <td>{{item.from_type}}</td>
                <td>{{item.sku}}</td>
                <td class="ellipsis ellipsis_name">{{item.title}}</td>
                <td><a href="">小猫旗舰店</a></td>
                <td>1211</td>
                <td>530</td>
                <td class="yesGreen" ng-class="{'noRed':(item.status=='停用')}">{{item.status}}</td>
                <td>{{item.create_time}}</td>
                <td><img src="{{item.image}}" alt=""></td>
                <td>
                    <a href="" ng-if="item.status=='停用'" ng-click="start_use(item)">启用</a>
                    <a href="" ng-if="item.status=='启用'" ng-click="stop_use(item)">停用</a>
                    <a href="" data-toggle="modal" data-target="#recommend_shop_modal_edit" ng-click="shop_edit_item(item)">编辑</a>
                    <a href="" data-toggle="modal" data-target="#recommend_shop_modal_details" ng-click="shop_details(item)">详情</a>
                    <a href="" data-toggle="modal" data-target="#recommend_modal_disable_del" ng-click="shop_del(item)">删除</a>
                </td>
            </tr>

        </table>
    </div>
    <!--Table内容  结束-->


    <!--保存模态框开始-->
    <div class="modal fade modelCenter" id="my_modal_save" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabelAdd">保存</h4>
                </div>
                <div class="modal-body">
                    确认保存
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">确认</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
    <!--保存模态框结束-->

    <!--商铺  添加模态框开始-->
    <div class="modal fade modelCenter" id="recommend_shop_modal_add" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">推荐——商铺添加</h4>
                </div>
                <div class="modal-body">
                    <div class="modal_tab">
                        <span class="modal_tab_active">商家</span>
                        <span data-dismiss="modal" data-toggle="modal" data-target="#recommend_link_modal_add">链接</span>
                    </div>
                    <div class="modal_txt_one">
                        <i class="red">*</i>
                        <span>商品编号</span>
                        <input type="text" ng-model="shop_model"/><span ng-click="recommend_shop_add_get()">获取</span>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>商品链接</span>
                        <input ng-model="recommend_shop_url" type="text" class="still" disabled="disabled"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>商品标题</span>
                        <input  ng-model="recommend_shop_title" type="text" />
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>副标题</span>
                        <input ng-model="recommend_shop_subtitle" type="text" />
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>平台价格</span>
                        <input  ng-model="recommend_shop_platform_price" class="still" disabled="disabled" type="text" />
                    </div>
                    <div class="modal_txt_one">
                        <i class="red">*</i>
                        <span>是否启用</span>
                        <input ng-click="shop_check=1" type="radio" ng-checked="shop_check==1">是
                        <input ng-click="shop_check=0" type="radio" ng-checked="shop_check==0" class="no_radio">否
                    </div>
                    <div class="modal_txt_one modal_img_box">
                        <i class="red">*</i>
                        <span> 图片</span>
                        <div class="modal_img"></div>
                        <div class="clear"></div>
                        <div class="modal_img_btn">
                            <span>上传</span>
                            <span>16565165ada.jpg</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button ng-click="recommend_shop_add_btn()" id="recommend_shop_add_btn" type="button" class="btn btn-primary" data-dismiss="modal">确认</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
    <!--商铺 添加模态框结束-->

    <!--链接  添加模态框开始-->
    <div class="modal fade modelCenter" id="recommend_link_modal_add" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">链接——添加推荐</h4>
                </div>
                <div class="modal-body">
                    <div class="modal_tab">
                        <span data-dismiss="modal" data-toggle="modal" data-target="#recommend_shop_modal_add">商家</span>
                        <span class="modal_tab_active">链接</span>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>链接</span>
                        <input type="text" ng-model="recommend_link_url"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>标题</span>
                        <input type="text" ng-model="recommend_link_title"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>副标题</span>
                        <input type="text" ng-model="recommend_link_subtitle"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>显示价格</span>
                        <input type="text" ng-model="recommend_link_show_price"/>
                    </div>
                    <div class="modal_txt_one">
                        <i class="red">*</i>
                        <span>是否启用</span>
                        <input ng-click="link_check=1" type="radio" ng-checked="link_check==1">是
                        <input ng-click="link_check=0" type="radio" ng-checked="link_check==0" class="no_radio">否
                    </div>
                    <div class="modal_txt_one modal_img_box">
                        <span><i class="red">*</i> 图片</span>
                        <div class="modal_img"></div>
                        <div class="clear"></div>
                        <div class="modal_img_btn">
                            <span>上传</span>
                            <span>123456789.jpg</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="recommend_link_add_btn()">确认</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
    <!--链接 添加模态框 结束-->

    <!--删除模态框开始-->
    <div class="modal fade modelCenter" id="my_modal_del" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">删除</h4>
                </div>
                <div class="modal-body">
                    确认删除{{delete_batch_num.length}}个？
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="delete_batch_btn()">确认</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
    <!--删除模态框结束-->

    <!--停用模态框开始-->
    <div class="modal fade modelCenter" id="my_modal_stop" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">停用</h4>
                </div>
                <div class="modal-body">
                    确认停用{{disable_batch_num.length}}个？
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="disable_batch_btn()">确认</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
    <!--停用模态框结束-->


    <!--商铺|链接  编辑模态框开始-->
    <div class="modal fade modelCenter" id="recommend_shop_modal_edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">推荐——{{edit_item.from_type}}编辑</h4>
                </div>
                <div class="modal-body" ng-if="edit_item.from_type=='商铺'">
                    <div class="modal_txt_one">
                        <i class="red">*</i>
                        <span>商铺编号</span>
                        <input ng-model="shop_edit_sku" type="text"/><span ng-click="recommend_shop_edit_get()">获取</span>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>商品链接</span>
                        <input ng-model="recommend_shop_edit_url" type="text" disabled="disabled"  class="still"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>标题</span>
                        <input ng-model="myng.recommend_shop_edit_title" type="text" />
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>副标题</span>
                        <input ng-model="recommend_shop_edit_subtitle" type="text" />
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>平台价</span>
                        <input  ng-model="recommend_shop_edit_platform_price" type="text" disabled="disabled"  class="still"/>
                    </div>
                    <div class="modal_txt_one">
                        <i class="red">*</i>
                        <span>是否启用</span>
                        <input ng-click="myng.shop_edit_check=1" type="radio" ng-checked="myng.shop_edit_check==1">是
                        <input ng-click="myng.shop_edit_check=0" type="radio" ng-checked="myng.shop_edit_check==0" class="no_radio">否
                    </div>
                    <div class="modal_txt_one modal_img_box">
                        <span><i class="red">*</i>图片</span>
                        <div class="modal_img"></div>
                        <div class="clear"></div>
                        <div class="modal_img_btn">
                            <input type="file" >上传
                            <span>16565165ada.jpg</span>
                        </div>
                    </div>
                </div>
                <div class="modal-body" ng-if="edit_item.from_type=='链接'">
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>链接</span>
                        <input type="text" ng-model="link_edit_url"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>标题</span>
                        <input type="text" ng-model="myng.link_edit_title"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>副标题</span>
                        <input type="text" ng-model="link_edit_subtitle"/>
                    </div>
                    <div class="modal_txt_one modal_txt_two">
                        <i class="red">*</i>
                        <span>价格</span>
                        <input type="text" ng-model="myng.link_edit_price"/>
                    </div>
                    <div class="modal_txt_one">
                        <i class="red">*</i>
                        <span>是否启用</span>
                        <input ng-click="myng.shop_edit_check=1" type="radio" ng-checked="myng.shop_edit_check==1">是
                        <input ng-click="myng.shop_edit_check=0" type="radio" ng-checked="myng.shop_edit_check==0" class="no_radio">否
                    </div>
                    <div class="modal_txt_one modal_img_box">
                        <span><i class="red">*</i>图片</span>
                        <div class="modal_img"></div>
                        <div class="clear"></div>
                        <div class="modal_img_btn">
                            <span>上传</span>
                            <span>123456789.jpg</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="recommend_shop_edit()">确认123</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
        </div>
    </div>
    <!--商铺|链接 编辑模态框结束-->


    <!--商铺|链接  详情模态框开始-->
    <div class="modal fade modelCenter" id="recommend_shop_modal_details" tabindex="-1" role="dialog"
         aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <!--商铺详情模态框-->
            <div class="modal-content" ng-if="shop_datails.from_type=='商铺'">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">推荐——商家详情</h4>
                </div>
                <!--商铺详情模态框-->
                <div class="modal-body" >
                    <div class="details_big_div">
                        <span>商品名称：</span>
                        <span>{{shop_details_title}}</span>
                    </div>
                    <div class="details_big_div">
                        <span>副标题：</span>
                        <span>{{shop_details_subtitle}}</span>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>类型：</span>
                            <span>{{shop_details_types}}</span>
                        </div>
                        <div class="details_div">
                            <span>商铺编号：</span>
                            <span>{{shop_details_sku}}</span>
                        </div>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>来源商家：</span>
                            <span class="blue">{{shop_details_supplier_name}}</span>
                        </div>
                        <div class="details_div">
                            <span>创建时间：</span>
                            <span>{{shop_details_time}}</span>
                        </div>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>是否启用：</span>
                            <span class="yesGreen" ng-class="{'noRed':(shop_details_status=='停用')}">{{shop_details_status}}</span>
                        </div>
                        <div class="details_div">
                            <span>上架浏览：</span>
                            <span class="blue">1211</span>
                        </div>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>库存：</span>
                            <span>121</span>
                        </div>
                        <div class="details_div">
                            <span>上架销量：</span>
                            <span class="blue">1211</span>
                        </div>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>供货价格：</span>
                            <span>{{shop_details_supplier_price}}</span>
                        </div>
                        <div class="details_div">
                            <span>平台价格：</span>
                            <span>{{shop_details_platform_price}}</span>
                        </div>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>市场价格：</span>
                            <span>{{shop_details_market_price}}</span>
                        </div>
                    </div>
                    <div class="modal_txt_one modal_img_box">
                        <span>图片：</span>
                        <div class="modal_img"></div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
                </div>
            </div>
            <!--链接详情模态框-->
            <div class="modal-content" ng-if="shop_datails.from_type=='链接'">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title">推荐——链接详情</h4>
                </div>
                <!--商铺详情模态框-->
                <div class="modal-body" >
                    <div class="details_big_div">
                        <span>名称：</span>
                        <span>{{link_details_title}}</span>
                    </div>
                    <div class="details_big_div">
                        <span>副标题：</span>
                        <span>{{link_details_subtitle}}</span>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>类型：</span>
                            <span>{{link_details_from_type}}</span>
                        </div>
                        <div class="details_div">
                            <span>显示价格：</span>
                            <span>{{link_details_show_price}}</span>
                        </div>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>来源商家：</span>
                            <span class="blue">{{link_details_supplier_name}}</span>
                        </div>
                        <div class="details_div">
                            <span>创建时间：</span>
                            <span>{{link_details_create_time}}</span>
                        </div>
                    </div>
                    <div class="details_big_div">
                        <div class="details_div">
                            <span>是否启用：</span>
                            <span class="yesGreen" ng-class="{'noRed':(link_details_status=='停用')}">{{link_details_status}}</span>
                        </div>
                        <div class="details_div">
                            <span>浏览：</span>
                            <span>1211</span>
                        </div>
                    </div>
                    <div class="modal_txt_one modal_img_box">
                        <span>图片：</span>
                        <div class="modal_img"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
                </div>
            </div>

        </div>
    </div>
    <!--商铺|链接 详情模态框结束-->

    <!--推荐停用|启用 删除模态框开始-->
    <div class="modal fade modelCenter" id="recommend_modal_disable_del" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <!--状态为停用时弹出-->
            <div class="modal-content" ng-if="del_ok_index.status=='停用'">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">停用删除</h4>
                </div>
                <div class="modal-body">
                    确定删除?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="shop_del_ok()">确认</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </div>
            <!--状态为启用时弹出-->
            <div class="modal-content" ng-if="del_ok_index.status=='启用'">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">已启用删除</h4>
                </div>
                <div class="modal-body" ng-if="del_ok_index.status='启用'">
                    请停用后再删除
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <!--推荐停用 删除模态框结束-->

</div>
</div>
